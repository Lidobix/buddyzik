{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport { pictureValidator } from 'src/shared/picture-format.directive';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/services/auth.service\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"../../services/buddy.service\";\nimport * as i5 from \"src/services/image.service\";\nimport * as i6 from \"@angular/common\";\n\nfunction EditProfileComponent_option_67_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 39);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const instrument_r1 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", instrument_r1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", instrument_r1, \" \");\n  }\n} // import { EDEADLK } from 'constants';\n\n\nexport let EditProfileComponent = /*#__PURE__*/(() => {\n  class EditProfileComponent {\n    // genericPattern: string = '^[^<].*[^>]$';\n    // passwordPattern: string =\n    //   '^[^<>](?=.{8,}$)(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*\\\\W).*[^<>]$';\n    constructor(router, authService, formBuilder, buddyService, imageservice) {\n      this.router = router;\n      this.authService = authService;\n      this.formBuilder = formBuilder;\n      this.buddyService = buddyService;\n      this.imageservice = imageservice;\n    }\n\n    ngOnInit() {\n      this.userProfileForm = this.formBuilder.group({\n        login: ['ludo', {\n          validators: [Validators.required, Validators.minLength(3)]\n        }],\n        password: ['Blup1-1pulB', {\n          validators: [Validators.required, Validators.pattern(this.authService.passwordPattern)]\n        }],\n        mailAddress: ['zhzl@EDEADLK.com', {\n          validators: [Validators.required, Validators.email]\n        }],\n        firstName: ['sgsgergegr', {\n          validators: [Validators.required]\n        }],\n        lastName: ['sdgdgtgeteteh', {\n          validators: [Validators.required]\n        }],\n        birthDate: ['25/10/1985', {\n          validators: [// Validators.required,\n            // ageValidator(this.authService.minimumAge),\n          ]\n        }],\n        location: ['skhflzflfhlf', {\n          validators: [Validators.required]\n        }],\n        gender: [null // Validators.required\n        ],\n        instrument: [null],\n        singer: [null],\n        pro: [null],\n        bio: [null],\n        profilePicture: ['', pictureValidator(this.authService.pictureExtension)],\n        bannerPicture: ['' // pictureValidator(this.authService.pictureExtension)\n        ]\n      }); // this.onchanges();\n\n      this.instrumentsList = ['Guitare', 'Basse', 'Ukulélé', 'Batterie', 'Cajun', 'Trompette', 'Synthé', 'piano', 'Flûte traversière'];\n    }\n\n    selectFile(event) {\n      const file = event.target.files[0];\n      this.imageservice.getBase64(file).subscribe(str => {\n        this.previewProfilePic = str;\n      });\n    }\n\n    onSubmitProfileForm() {\n      this.userProfileForm.value.profilePicture = this.previewProfilePic;\n      console.log('soumission du formulaire: ', this.userProfileForm);\n      this.authService.authUser(this.userProfileForm, '/register');\n    }\n\n  }\n\n  EditProfileComponent.ɵfac = function EditProfileComponent_Factory(t) {\n    return new (t || EditProfileComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.FormBuilder), i0.ɵɵdirectiveInject(i4.BuddyService), i0.ɵɵdirectiveInject(i5.ImageService));\n  };\n\n  EditProfileComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: EditProfileComponent,\n    selectors: [[\"app-edit-profile\"]],\n    decls: 94,\n    vars: 3,\n    consts: [[1, \"form-card\"], [3, \"formGroup\"], [\"for\", \"login\"], [\"type\", \"text\", \"id\", \"loginInput\", \"formControlName\", \"login\"], [\"for\", \"password\"], [\"type\", \"text\", \"id\", \"passwordInput\", \"formControlName\", \"password\"], [\"for\", \"mailAddress\"], [\"type\", \"text\", \"id\", \"mailAddressInput\", \"formControlName\", \"mailAddress\"], [\"for\", \"firstName\"], [\"type\", \"text\", \"id\", \"firstNameInput\", \"formControlName\", \"firstName\"], [\"for\", \"lastName\"], [\"type\", \"text\", \"id\", \"lastNameInput\", \"formControlName\", \"lastName\"], [\"for\", \"birthDate\"], [\"type\", \"date\", \"id\", \"birthDateInput\", \"formControlName\", \"birthDate\"], [\"for\", \"location\"], [\"type\", \"text\", \"id\", \"locationInput\", \"formControlName\", \"location\"], [\"type\", \"file\", \"formControlName\", \"profilePicture\", 3, \"change\"], [\"alt\", \"\", 3, \"src\"], [\"type\", \"file\", \"formControlName\", \"bannerPicture\"], [\"id\", \"genderMaleInput\", \"type\", \"radio\", \"name\", \"gender\", \"formControlName\", \"gender\", \"value\", \"Homme\", \"checked\", \"\"], [\"for\", \"genderMale\"], [\"id\", \"genderFemaleInput\", \"type\", \"radio\", \"name\", \"gender\", \"formControlName\", \"gender\", \"value\", \"Femme\"], [\"for\", \"genderFemale\"], [\"id\", \"genderOtherInput\", \"type\", \"radio\", \"name\", \"gender\", \"formControlName\", \"gender\", \"value\", \"Autre\"], [\"for\", \"genderOther\"], [\"for\", \"instrument\"], [\"formControlName\", \"instrument\", \"id\", \"instrumentSelect\"], [\"value\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"id\", \"singerYesInput\", \"type\", \"radio\", \"name\", \"singer\", \"formControlName\", \"singer\", \"value\", \"Yes\"], [\"for\", \"singerYes\"], [\"id\", \"singerNoInput\", \"type\", \"radio\", \"name\", \"singer\", \"formControlName\", \"singer\", \"value\", \"No\"], [\"for\", \"singerNo\"], [\"id\", \"proYesInput\", \"type\", \"radio\", \"name\", \"pro\", \"formControlName\", \"pro\", \"value\", \"Yes\"], [\"for\", \"proYes\"], [\"id\", \"proNoInput\", \"type\", \"radio\", \"name\", \"pro\", \"formControlName\", \"pro\", \"value\", \"No\"], [\"for\", \"proNo\"], [\"name\", \"bio\", \"id\", \"bioInput\", \"formControlName\", \"bio\", \"cols\", \"30\", \"rows\", \"10\"], [\"type\", \"submit\", \"value\", \"GO!\", 3, \"click\"], [3, \"value\"]],\n    template: function EditProfileComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n        i0.ɵɵtext(2, \"CREATION DU PROFIL\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"form\", 1)(4, \"label\", 2);\n        i0.ɵɵtext(5, \"Pseudo\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(6, \"input\", 3)(7, \"br\")(8, \"br\");\n        i0.ɵɵelementStart(9, \"label\", 4);\n        i0.ɵɵtext(10, \"Mot de passe\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(11, \"input\", 5)(12, \"br\")(13, \"br\");\n        i0.ɵɵelementStart(14, \"label\", 6);\n        i0.ɵɵtext(15, \"Adresse mail\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(16, \"input\", 7)(17, \"br\")(18, \"br\");\n        i0.ɵɵelementStart(19, \"label\", 8);\n        i0.ɵɵtext(20, \"Pr\\u00E9nom\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(21, \"input\", 9)(22, \"br\")(23, \"br\");\n        i0.ɵɵelementStart(24, \"label\", 10);\n        i0.ɵɵtext(25, \"Nom\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(26, \"input\", 11)(27, \"br\")(28, \"br\");\n        i0.ɵɵelementStart(29, \"label\", 12);\n        i0.ɵɵtext(30, \"Date de naissance\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(31, \"input\", 13)(32, \"br\")(33, \"br\");\n        i0.ɵɵelementStart(34, \"label\", 14);\n        i0.ɵɵtext(35, \"Ville\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(36, \"input\", 15)(37, \"br\")(38, \"br\");\n        i0.ɵɵtext(39, \" Photo de profil: \");\n        i0.ɵɵelementStart(40, \"input\", 16);\n        i0.ɵɵlistener(\"change\", function EditProfileComponent_Template_input_change_40_listener($event) {\n          return ctx.selectFile($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(41, \"br\")(42, \"img\", 17)(43, \"br\");\n        i0.ɵɵtext(44, \" Photo de banni\\u00E8re: \");\n        i0.ɵɵelement(45, \"input\", 18)(46, \"br\");\n        i0.ɵɵelementStart(47, \"p\");\n        i0.ɵɵtext(48, \"Genre:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(49, \"input\", 19);\n        i0.ɵɵelementStart(50, \"label\", 20);\n        i0.ɵɵtext(51, \"Homme\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(52, \"input\", 21);\n        i0.ɵɵelementStart(53, \"label\", 22);\n        i0.ɵɵtext(54, \"Femme\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(55, \"input\", 23);\n        i0.ɵɵelementStart(56, \"label\", 24);\n        i0.ɵɵtext(57, \"Autre\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(58, \"br\")(59, \"br\");\n        i0.ɵɵelementStart(60, \"p\");\n        i0.ɵɵtext(61, \"Dis nous en plus....\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(62, \"label\", 25);\n        i0.ɵɵtext(63, \"Instrument de pr\\u00E9dilection :\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(64, \"select\", 26)(65, \"option\", 27);\n        i0.ɵɵtext(66, \"Choix...\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(67, EditProfileComponent_option_67_Template, 2, 2, \"option\", 28);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(68, \"p\");\n        i0.ɵɵtext(69, \"Tu chantes?\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(70, \"input\", 29);\n        i0.ɵɵelementStart(71, \"label\", 30);\n        i0.ɵɵtext(72, \"Oui!\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(73, \"input\", 31);\n        i0.ɵɵelementStart(74, \"label\", 32);\n        i0.ɵɵtext(75, \"Non\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(76, \"br\")(77, \"br\");\n        i0.ɵɵelementStart(78, \"p\");\n        i0.ɵɵtext(79, \"Tu es un pro?\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(80, \"input\", 33);\n        i0.ɵɵelementStart(81, \"label\", 34);\n        i0.ɵɵtext(82, \"Oui\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(83, \"input\", 35);\n        i0.ɵɵelementStart(84, \"label\", 36);\n        i0.ɵɵtext(85, \"Non\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(86, \"br\")(87, \"br\");\n        i0.ɵɵelementStart(88, \"p\");\n        i0.ɵɵtext(89, \" Un petit mot sur ce que tu recherches ou proposes et qui sera affich\\u00E9 sur ton profil? \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(90, \"textarea\", 37)(91, \"br\")(92, \"br\");\n        i0.ɵɵelementStart(93, \"input\", 38);\n        i0.ɵɵlistener(\"click\", function EditProfileComponent_Template_input_click_93_listener() {\n          return ctx.onSubmitProfileForm();\n        });\n        i0.ɵɵelementEnd()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"formGroup\", ctx.userProfileForm);\n        i0.ɵɵadvance(39);\n        i0.ɵɵproperty(\"src\", ctx.previewProfilePic, i0.ɵɵsanitizeUrl);\n        i0.ɵɵadvance(25);\n        i0.ɵɵproperty(\"ngForOf\", ctx.instrumentsList);\n      }\n    },\n    directives: [i3.ɵNgNoValidate, i3.NgControlStatusGroup, i3.FormGroupDirective, i3.DefaultValueAccessor, i3.NgControlStatus, i3.FormControlName, i3.RadioControlValueAccessor, i3.SelectControlValueAccessor, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i6.NgForOf],\n    styles: [\"img[_ngcontent-%COMP%]{width:200px}\"]\n  });\n  return EditProfileComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}